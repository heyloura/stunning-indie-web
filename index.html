<!DOCTYPE html>
<html lang="en" id="html">
  <head>
    <title>My Site</title>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />
    <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0" />
    <meta name="theme-color" content="#23d5ab" />
    <link rel="stylesheet" href="main.min.css">
    <script type="text/javascript" src="app.min.js"></script>
  </head>
  <body>
    <div class="wrapper">
      <header id="cms-tools">
        <div class="nav">
          <div class="nav-left">   
            <a id="site_name" href="#stream">My Site</a>
            </div>
          <div class="nav-right">
<!--             <label for="open-content">Menu</label> -->
            <a class="logged-in" style="display:none;" href="#post">Create Post</a>
          </div>
        </div>
      </header>
      <div class="main ">
<!--         <input id="open-content" class="open-content" type="checkbox">
        <div class="box sidebar">
          <p>
            Sidebar content
          </p>
        </div> -->
        <div class="box content h-feed">
          <main id="main" role="main">
            <!---------- DEFAULT SECTIONS ----------------------
            //  Don't delete me
            //  ------------------------------------------------>
            <section>
              <h1>Not using JavaScript?</h1>
              <p>The rest of the page is part of the content editor.
                If you want to jump to the bottom of the page use
                this <a href="#profile">link</a>.
              </p>
            </section>
            <section id="configuration">
              <div id="configuration_general_settings">
                <h4>General</h4>
                <label for="configuration_site_name">The name of your site (upper left corner):</label>
                <input class="config" type="text" id="configuration_site_name" value="" />
                <label for="configuration_stream_count">Number of items displayed on your stream:</label>
                <input class="config" type="number" id="configuration_stream_count" value="10" />
              </div>

              <div id="configuration_indieweb_settings">
                <h4>IndieWeb Settings</h4>
                <h5>Visible in the footer and the information is used in posts (note, reply, bookmark) </h5>
                <h6>
                  H-card
                </h6>
                <p>Updating these settings does not change already created posts and pages.</p>
                <label for="configuration_indieweb_author_hcard_name">Name for <a href="https://indieweb.org/h-card">h-card</a></label>
                <input
                  class="config"
                  type="text"
                  id="configuration_indieweb_author_hcard_name"
                  value=""
                /><br/>
                <label for="configuration_indieweb_hcard_note">Note for <a href="https://indieweb.org/h-card">h-card</a></label>
                <input
                  class="config"
                  type="text"
                  id="configuration_indieweb_hcard_note"
                  value=""
                /><br/>
                <label for="configuration_indieweb_author_hcard_img">Image for <a href="https://indieweb.org/h-card">h-card</a></label>
                <input
                  class="config"
                  type="text"
                  id="configuration_indieweb_author_hcard_img"
                  value="https://tafttest.com/600x600.png"
                /><br/>
                <h6>
                  Indie Auth Settings (optional)
                </h6>
                <p><em>Leave blank if you don't want to configure that service. Visible in website footer.</em></p>
                <label for="configuration_indieauth_email">Email address to use for IndieAuth</label>
                <input
                  class="config"
                  type="text"
                  id="configuration_indieauth_email"
                  value=""
                /><br/>
                <label for="configuration_indieauth_twitter">Twitter to use for IndieAuth</label>
                <input
                  class="config"
                  type="text"
                  id="configuration_indieauth_twitter"
                  value=""
                />
                <p style="margin-top: 0px;">Make sure your Twitter account has your URL in your profile.</p>
                <label for="configuration_indieauth_github">Github to use for IndieAuth</label>
                <input
                  class="config"
                  type="text"
                  id="configuration_indieauth_github"
                  value=""
                /><p style="margin-top: 0px;">Make sure your Github account has your URL in your profile.</p>
              </div>

              <h4>Github AutoSave Settings</h4>
              <fieldset>
                <legend>Sensitive Information</legend>
                <p>
                  If you need to update your Personal Access Token (PAT) please <a class="logged-in" style="display:none;" onclick="logout()" href="javascript:void(0)">üòµ log out</a> first.
                </p>
                <div id="configuration_githubpat_settings">
                  <p>
                    By clicking the save button your Personal Access Token (PAT) will be saved to your device's local storage.
                    You will need to enter this in for each device you intend to update your website with. The PAT is not
                    saved into this file. Be sure to clear the PAT if using a shared machine by clicking the 
                    <code>üòµ logout</code> link
                    at the bottom of the screen. If the PAT is accidentally exposed it can be revoked 
                    without needing to reset the account password on your Github account.
                  </p>
                  <label for="configuration_github_pat">Personal Access Token<span style="color:red;"><b>*</b></span></label>
                  <input type="text" id="configuration_github_pat" value="" />
                  <button onclick="savePAT()">Save PAT to local storage</button>
                </div>
              </fieldset><br/>
              <div id="configuration_githubautosave_settings">    
                <label for="configuration_github_repository">Repository<span style="color:red;"><b>*</b></span></label>
                <input
                  class="config"
                  type="text"
                  id="configuration_github_repository"
                  value=""
                />
                <p style="margin-top: 0px;">Both the owner name and the repository name must be specified. For example Jermolene/TiddlyWiki5</p>
                <label for="configuration_github_branch">Branch<span style="color:red;"><b>*</b></span></label>
                <input
                  class="config"
                  type="text"
                  id="configuration_github_branch"
                  value="main"
                />
                <p style="margin-top: 0px;">The name of the branch to be used within the repository. Defaults to main.</p>
                <label for="configuration_github_filename">Filename<span style="color:red;"><b>*</b></span></label>
                <input
                  class="config"
                  type="text"
                  id="configuration_github_filename"
                  value="index.html"
                />
                <p style="margin-top: 0px;">The name of the website file. Defaults to index.html</p>
                <label for="configuration_github_path">Path (optional)</label>
                <input
                  class="config"
                  type="text"
                  id="configuration_github_path"
                  value="/"
                />
                <p style="margin-top: 0px;">The path to the target file ending with a /. Defaults to /</p>
                <button onclick="checkAutoSaveConfig()">Check Github AutoSave Setup</button>
                <p style="margin-top: 0px;">The attempts to save the current version of this file.</p>
              </div>

              <div>
              </div>
            </section>
            <section id="post" data-type="block">    
              <input type="hidden" id="edit-post-id" />
              <fieldset>
                <legend>Choose your post type</legend>
                <ul>
                  <li>
                    <input id="post-note" type="radio" name="post-types" checked value="note" />
                    <label class="checkbox" for="post-note"> üìî note</label>
                  </li>
                  <li>
                    <input id="post-reply" type="radio" name="post-types" value="reply"/>
                    <label class="checkbox" for="post-reply"> üí¨ reply</label>
                  </li>
                  <li>
                    <input id="post-like" type="radio" name="post-types" value="like"/>
                    <label class="checkbox" for="post-like"> üëç like</label>
                  </li>
                  <li>
                    <input id="post-bookmark" type="radio" name="post-types" value="bookmark"/>
                    <label class="checkbox" for="post-bookmark"> üîñ bookmark</label>
                  </li>
                </ul>
              </fieldset>       
              <fieldset class="Meta">
                <legend>
                  Meta
                </legend>
                <label for="post-tags">Tags <input id="post-tags" type="text" /></label>
                <label for="post-url">Url <input id="post-url" type="url" /></label>
                <label for="post-domain">Domain <input id="post-domain" type="url" /></label>
                <label for="post-name">Name <input id="post-name" type="text" /></label> 
                <label for="post-title">Title <input id="post-title" type="text" /></label>
              </fieldset>            
              <fieldset>
                <legend>
                  Editor
                </legend>
                <div class="editable">
                  <div id="editor-controls"></div>
                  <div id="editor-output" contenteditable="true" class="output-el"></div>
                </div>
              </fieldset>        
              <button id="post-button" onclick="post()">Post it!</button>
            </section>
            <section id="stream" data-type="stream"></section>
            <!-- Must be last section -->
            <section>
              <h2>Not Found</h2>
              <p>Sorry, we couldn't find that.</p>
            </section>
          </main>
          <div id="profile" class="h-card">
            <div>
              <img id="hcard_img" src="https://tafttest.com/100x100.png" class="u-photo"> 
              <a rel="me" href="#stream"><span id="author_hcard_name" class="p-name"></span></a>
            </div>
            <span id="hcard_note" class="p-note"></span>
          </div>
        </div>
      </div>

      <footer>
        <p>        
          <span><a href="#configuration">‚öôÔ∏è settings</a></span>
          <span class="logged-in" style="display:none;">| <a onclick="logout()" href="javascript:void(0)">üòµ log out</a></span>
          <span>| <a href="#credits">üôè credits</a></span>
        </p>
      </footer>
    </div>
    
    <!-- OTHER JS LIBRARIES -->
    <script defer src="panagram.min.js" type="text/javascript"></script>
    <script defer src="js-base64.min.js" type="text/javascript"></script>
    <!-- END: OTHER JS LIBRARIES --> 
  </body>
</html>
